!function(){"use strict";$(function(){var e='a[href$="Login-Logout"]',t={BODY:document.querySelector("body"),PREFILL_FORM:document.querySelector(".prefill-form-ajax"),LOGIN_LINK:document.querySelector('a[href*="Login-Show"]')};reach5Const.isSessionAuthRequired&&sdkCoreClient.getSessionInfo().then(function(e){e&&e.isAuthenticated&&sdkCoreClient.loginFromSession({redirectUri:reach5Const.callbackUrl,state:reach5Const.stateObjBase64})}),t.BODY.addEventListener("click",function(t){t.target.matches(e)&&(t.preventDefault(),sdkCoreClient.getSessionInfo().then(function(e){e&&e.isAuthenticated?sdkCoreClient.logout({redirectTo:reach5Const.reachFiveLogoutUrl}):window.location.href=t.target.href}).catch(function(){window.location.href=t.target.href}))}),t.PREFILL_FORM&&t.PREFILL_FORM.addEventListener("submit",function(e){e.preventDefault();var t=new FormData(this);fetch("ReachFiveController-SubmitProfileSocialLogin",{method:"POST",body:t}).then(e=>e.json()).then(e=>{e.success&&"loginRedirect"===e.action&&(window.location.href=e.redirectUrl)}).catch(e=>console.error(e))}),t.LOGIN_LINK&&sdkCoreClient.getSessionInfo().then(function(e){e&&e.isAuthenticated&&t.LOGIN_LINK.addEventListener("click",function(e){e.preventDefault(),sdkCoreClient.logout({redirectTo:reach5Const.reachFiveLoginUrl})})})})}();